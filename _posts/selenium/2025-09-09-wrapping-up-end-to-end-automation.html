---
layout: post
author: "Rohit Bhardwaj"
category: "selenium"
tags: ["software-testing", "automation", "selenium", "java"]
image: "/assets/images/selenium/selenium-logo.jpg"
---

<div class="post-main-container">
  <div class="post-container">
    <h1 class="post-title">
      Handling Advanced User Interactions in Selenium Using Actions Class
    </h1>

    <p>
      The <code>Actions</code> class in Selenium enables advanced interactions
      like keyboard and mouse events. It allows sending keys, clicking,
      hovering, and other complex user actions in a more controlled way.
    </p>

    <h2 class="post-heading-h2">Using Actions to Send Keys</h2>
    <p>
      Instead of directly sending keys to a web element using
      <code>sendKeys()</code>, you can use the <code>Actions</code> class which
      takes two arguments:
    </p>
    <ul>
      <li>The target <code>WebElement</code> (e.g., an input box).</li>
      <li>The keys/text to send to that element.</li>
    </ul>
    <pre>
Actions actions = new Actions(driver);
WebElement inputBox = driver.findElement(By.cssSelector("[placeholder='Select country']"));
actions.sendKeys(inputBox, "India").build().perform();
    </pre>
    <p>
      Calling <code>build().perform()</code> is important to execute the action;
      without it the command will not run.
    </p>

    <h2 class="post-heading-h2">Waiting for Dynamic Dropdown</h2>
    <p>
      After typing, a dynamic dropdown appears which can take time to load.
      Explicit wait ensures Selenium waits until the dropdown is visible:
    </p>
    <pre>
WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(5));
wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(".ta-results")));
    </pre>

    <h2 class="post-heading-h2">Selecting an Item from Dropdown</h2>
    <p>
      To select the second item in the dropdown, use
      <code>nth-of-type</code> CSS or XPath indexing:
    </p>
    <pre>
// Using CSS Selector
driver.findElement(By.cssSelector(".ta-item:nth-of-type(2)")).click();

// Or XPath
driver.findElement(By.xpath("(//button[contains(@class, 'ta-item')])[2]")).click();
    </pre>

    <h2 class="post-heading-h2">Verification and Best Practices</h2>
    <ul>
      <li>Maximize the browser window to avoid click interception issues.</li>
      <li>Use <code>Actions</code> class for realistic user interactions.</li>
      <li>
        Prefer explicit waits over <code>Thread.sleep()</code> for reliability.
      </li>
      <li>
        Handle text assertions with case-insensitive checks using
        <code>equalsIgnoreCase()</code>.
      </li>
      <li>Always validate success messages to confirm test outcomes.</li>
      <li>Close the browser cleanly after tests complete.</li>
    </ul>

    <p>
      This approach helps aggregate various Selenium concepts into a stable,
      end-to-end automation test.
    </p>

    <div class="tip">
      <b>Tip:</b> Actions class combined with explicit waits and assertions
      improves automation robustness and mimics real user behavior.
    </div>

    <h2 class="post-heading-h2">Complete Java Code Example</h2>
    <pre>
package rahulshettyacademy.SeleniumFrameworkDesign;

import java.time.Duration;
import java.util.List;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.Select;
import org.openqa.selenium.support.ui.WebDriverWait;
import org.testng.Assert;

import io.github.bonigarcia.wdm.WebDriverManager;

public class StandAloneTest {

  public static void main(String[] args) {

    String productName = "ZARA COAT 3";

    WebDriverManager.chromedriver().setup();
    WebDriver driver = new ChromeDriver();

    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));
    driver.manage().window().maximize();

    driver.get("https://rahulshettyacademy.com/client");

    driver.findElement(By.id("userEmail")).sendKeys("rkb.sdet@gmail.com");
    driver.findElement(By.id("userPassword")).sendKeys("Dell#3000");

    driver.findElement(By.id("login")).click();
    WebDriverWait wait =  new WebDriverWait(driver, Duration.ofSeconds(5));
    wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(".mb-3")));
    List&lt;WebElement&gt; prods = driver.findElements(By.cssSelector(".mb-3"));

    WebElement product = prods.stream()
        .filter(prod -> prod.findElement(By.cssSelector("b")).getText().equals(productName))
        .findFirst()
        .orElse(null);

    product.findElement(By.cssSelector(".card-body button:last-of-type")).click();

    // wait until toast message showing on the screen
    wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector("#toast-container")));
    wait.until(ExpectedConditions.invisibilityOf(driver.findElement(By.cssSelector("#toast-container"))));
    driver.findElement(By.cssSelector("[routerLink*='cart']")).click();

    List&lt;WebElement&gt; cartItems = driver.findElements(By.cssSelector(".cartSection:first-child h3"));
    Boolean match = cartItems.stream().anyMatch(cartItem -> cartItem.getText().equalsIgnoreCase(productName));
    Assert.assertTrue(match);

    // Clicking on Checkout
    driver.findElement(By.cssSelector("li[class='totalRow'] button[type='button']")).click();

    // filling out details
    driver.findElement(By.cssSelector(".form__cc input.txt.text-validated")).sendKeys("4542 9931 9292 2293");
    WebElement months = driver.findElement(By.cssSelector("select.ddl:first-of-type"));
    Select month = new Select(months);
    month.selectByVisibleText("09");
    WebElement years = driver.findElement(By.cssSelector("select.ddl:last-of-type"));
    Select year = new Select(years);
    year.selectByVisibleText("20");

    driver.findElement(By.xpath("(//input[@type='text'])[2]")).sendKeys("432");

    driver.findElement(By.xpath("(//input[@type='text'])[3]")).sendKeys("Rohit Kumar");

    driver.findElement(By.cssSelector(".user__name input.ng-untouched")).sendKeys("rkb.sdet@gmail.com");
    driver.findElement(By.cssSelector(".user__name input:last-child")).sendKeys("Ind");

    // Wait until dropdown items are visible
    wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(".list-group-item")));
    // Now fetch the current items
    List&lt;WebElement&gt; countryList = driver.findElements(By.cssSelector(".list-group-item"));
    for (WebElement cont : countryList) {
      if(cont.getText().equalsIgnoreCase("india")) {
        cont.click();
        break; // Stop after click!
      }
    }

    driver.findElement(By.cssSelector(".action__submit")).click();

    String finalText = driver.findElement(By.cssSelector(".hero-primary")).getText();
    if(finalText.toLowerCase().contains("thankyou")) {
      System.out.println("Test Passed");
    } else {
      System.out.println("Test Failed");
    }
    
    driver.quit();
  }
}
    </pre>
  </div>
</div>
